matomo:
  ## @param matomoUsername User of the application
  ## ref: https://github.com/bitnami/containers/tree/main/bitnami/matomo#configuration
  ##
  matomoUsername: chorus
  ## @param matomoWebsiteName Matomo application name
  ## ref: https://github.com/bitnami/containers/tree/main/bitnami/matomo#configuration
  ##
  matomoWebsiteName: chorus
  ## @param matomoWebsiteHost Matomo application host
  ## ref: https://github.com/bitnami/containers/tree/main/bitnami/matomo#configuration
  ##
  matomoWebsiteHost: https://matomo.chorus-tre.local
  ## @param existingSecret Name of a secret with the application password
##
  existingSecret: "matomo-matomo-secret"
  allowEmptyPassword: false
  updateStrategy:
    type: Recreate
  ingress:
    ## @param ingress.enabled Enable ingress controller resource
    ##
    enabled: true
    ## @param ingress.pathType Ingress Path type
    ##
    pathType: Prefix
    ## @param ingress.apiVersion Override API Version (automatically detected if not set)
    ##
    apiVersion: ""
    ## @param ingress.ingressClassName IngressClass that will be be used to implement the Ingress (Kubernetes 1.18+)
    ## This is supported in Kubernetes 1.18+ and required if you have more than one IngressClass marked as the default for your cluster .
    ## ref: https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/
    ##
    ingressClassName: "nginx"
    ## @param ingress.hostname Default host for the ingress resource
    ##
    hostname: "matomo.chorus-tre.local"
    ## @param ingress.path The Path to Matomo. You may need to set this to '/*' in order to use this
    ## with ALB ingress controllers.
    ##
    path: /
    ## @param ingress.annotations Additional annotations for the Ingress resource. To enable certificate autogeneration, place here your cert-manager annotations.
    ## For a full list of possible ingress annotations, please see
    ## ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/annotations.md
    ## Use this parameter to set the required annotations for cert-manager, see
    ## ref: https://cert-manager.io/docs/usage/ingress/#supported-annotations
    ##
    ## e.g:
    ## annotations:
    ##   kubernetes.io/ingress.class: nginx
    ##   cert-manager.io/cluster-issuer: cluster-issuer-name
    ##
    annotations:
      cert-manager.io/cluster-issuer: "letsencrypt-prod"
    ## @param ingress.tls Enable TLS configuration for the hostname defined at ingress.hostname parameter
    ## TLS certificates will be retrieved from a TLS secret with name: {{- printf "%s-tls" .Values.ingress.hostname }}
    ## You can use the ingress.secrets parameter to create this TLS secret or relay on cert-manager to create it
    ##
    tls: true
    ## @param ingress.selfSigned Create a TLS secret for this ingress record using self-signed certificates generated by Helm
    ##
    selfSigned: false
    ## @param ingress.extraHosts The list of additional hostnames to be covered with this ingress record.
    ## Most likely the hostname above will be enough, but in the event more hosts are needed, this is an array
    ## extraHosts:
    ## - name: matomo.local
    ##   path: /
    ##
    extraHosts: []
    ## @param ingress.extraPaths Any additional arbitrary paths that may need to be added to the ingress under the main host.
    ## For example: The ALB ingress controller requires a special rule for handling SSL redirection.
    ## extraPaths:
    ## - path: /*
    ##   backend:
    ##     serviceName: ssl-redirect
    ##     servicePort: use-annotation
    ##
    extraPaths: []
    ## @param ingress.extraTls The tls configuration for additional hostnames to be covered with this ingress record.
    ## see: https://kubernetes.io/docs/concepts/services-networking/ingress/#tls
    ## extraTls:
    ## - hosts:
    ##     - matomo.local
    ##   secretName: matomo.local-tls
    ##
    extraTls: []
    ## @param ingress.secrets If you're providing your own certificates, please use this to add the certificates as secrets
    ## key and certificate should start with -----BEGIN CERTIFICATE----- or
    ## -----BEGIN RSA PRIVATE KEY-----
    ##
    ## name should line up with a tlsSecret set further up
    ## If you're using cert-manager, this is unneeded, as it will create the secret for you if it is not set
    ##
    ## It is also possible to create and manage the certificates outside of this helm chart
    ## Please see README.md for more information
    ## Example:
    ## - name: matomo.local-tls
    ##   key:
    ##   certificate:
    ##
    secrets: []
    ## @param ingress.extraRules Additional rules to be covered with this ingress record
    ## ref: https://kubernetes.io/docs/concepts/services-networking/ingress/#ingress-rules
    ## e.g:
    ## extraRules:
    ## - host: example.local
    ##     http:
    ##       path: /
    ##       backend:
    ##         service:
    ##           name: example-svc
    ##           port:
    ##             name: http
    ##
    extraRules: []
  mariadb:
    ## @param mariadb.enabled Whether to deploy a mariadb server to satisfy the applications database requirements
    ## To use an external database set this to false and configure the externalDatabase parameters
    ##
    enabled: false
  ## External database configuration
  ## @param externalDatabase.host Host of the existing database
  ## @param externalDatabase.port Port of the existing database
  ## @param externalDatabase.user Existing username in the external db
  ## @param externalDatabase.password Password for the above username
  ## @param externalDatabase.database Name of the existing database
  ## @param externalDatabase.existingSecret Name of a secret containing the database credentials
  ##
  externalDatabase:
    host: "chorus-matomo-mariadb"
    port: 3306
    user: bn_matomo
    password: ""
    database: bitnami_matomo
    existingSecret: "matomo-mariadb-secret"
  cronjobs:
    archive:
      enabled: true
      persistence:
        enabled: true
        existingClaim: "matomo-archive"
    taskScheduler:
      enabled: true
      persistence:
        enabled: true
        existingClaim: "matomo-taskscheduler"
